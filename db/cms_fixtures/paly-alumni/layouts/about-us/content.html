<!--Orbit slider stuff below-->
<div class = "row">
  <div class = "large-8 large-centered columns">
    <div class="orbit" role="region" aria-label="Favorite Space Pictures" data-orbit>
      <ul class="orbit-container">
    	<button class="orbit-previous"><span class="show-for-sr">Previous Slide</span>&#9664;&#xFE0E;</button>
    	<button class="orbit-next"><span class="show-for-sr">Next Slide</span>&#9654;&#xFE0E;</button>
        
    	{{ cms:page:images:rich_text }}
        
  	</ul>
  	<nav class="orbit-bullets">
  	</nav>
	</div>
    </div>
  </div>


<!--End orbit from Foundation 3-->


<div class="row">
  <div class="large-12 column">
	<h3></h3>
    <div><!-- content-->
      {{ cms:page:content:rich_text }}
	</div>
  </div>
</div>

<script type="text/javascript">
  var wrapper = document.getElementsByClassName("orbit-container")[0];
  var images = wrapper.getElementsByTagName("img");
  var bullets = document.getElementsByClassName("orbit-bullets")[0];
  var innerHTMLs = [];
  
  for (var i = 0; i < images.length; i++) {
    console.log(images.length);
    images[i].classList.add("orbit-image");
    innerHTMLs.push("<li class='is-active orbit-slide'>" + images[i].outerHTML + "</li>");
  }
  
  while (wrapper.hasChildNodes()) {
    wrapper.removeChild(wrapper.lastChild);
  }

  wrapper.innerHTML += "<button class='orbit-previous'><span class='show-for-sr'>Previous Slide</span>&#9664;&#xFE0E;</button><button class='orbit-next'><span class='show-for-sr'>Next Slide</span>&#9654;&#xFE0E;</button>";
  
  var hasActive = false;
  
  for (var i = 0; i < innerHTMLs.length; i++) {
    console.log(innerHTMLs[i]);
    if (!hasActive){
      wrapper.innerHTML += innerHTMLs[i];
      bullets.innerHTML += "<button class='is-active' data-slide='" + i + "'></button>";
      hasActive = true;
    } else {
      wrapper.innerHTML += innerHTMLs[i];
      bullets.innerHTML += "<button data-slide='" + i + "'></button>";
    }
  }
</script>